= Notes on how to release new version =

== Update version ==

=== configure.ac ===
configure.ac: AC_INIT([parallel], [20100422], [bug-parallel@gnu.org])

YYYYMMDD=`yyyymmdd`
perl -i -pe "s/20\d\d\d\d\d\d/$YYYYMMDD/" configure.ac

=== src/parallel ===

src/parallel: $Global::version = 20100422;

YYYYMMDD=`yyyymmdd`
perl -i -pe "/version/ and s/20\d\d\d\d\d\d/$YYYYMMDD/" src/parallel
perl -i -pe "/version/ and s/20\d\d\d\d\d\d/$YYYYMMDD/" src/sql

=== Autoconf/automake ===

rm -fr autom4te.cache aclocal.m4 config.h config.h.in config.log Makefile.in missing install-sh
rm -rf src/Makefile.in
autoreconf --install -W gnu
./configure
make && sudo make install

== Testsuite ==

cd testsuite; make

== Update NEWS ==

With the same things that goes in the announce mail

== Package ==

./configure
make dist
make dist-bzip2

== Test the package ==

cp parallel-$YYYYMMDD.tar.bz2 /tmp
cd /tmp
tar xjvf parallel-$YYYYMMDD.tar.bz2
cd parallel-$YYYYMMDD
./configure && make -j && sudo make -j install

== Upload ==

YYYYMMDD=`yyyymmdd`
cp doc/parallel.directive parallel-$YYYYMMDD.tar.bz2.directive
perl -i -pe "s/20\d\d\d\d\d\d/$YYYYMMDD/" parallel-*.tar.*directive
gpg --clearsign parallel-$YYYYMMDD.tar.bz2.directive

YYYYMMDD=`yyyymmdd`
gpg -b parallel-$YYYYMMDD.tar.bz2

YYYYMMDD=`yyyymmdd`
echo put parallel-$YYYYMMDD.tar.bz2{,.sig,*asc} | ncftp ftp://ftp-upload.gnu.org/incoming/ftp/

== Download and test ==

cd /tmp
wget http://ftp.gnu.org/gnu/parallel/parallel-$YYYYMMDD.tar.bz2
tar xjvf parallel-$YYYYMMDD.tar.bz2
cd parallel-$YYYYMMDD
./configure
make -j && sudo make -j install

== Update OpenSUSE build system ==

https://build.opensuse.org/package/show?package=parallel&project=home%3Atange
cd ~/privat/parallel/packager/obs ; make

== Update Savannah ==

Content from release mail:

https://savannah.gnu.org/news/submit.php?group=parallel
https://savannah.gnu.org/news/approve.php?group=parallel

doc/pod2savannah_publicinfo src/parallel | klipper-stdin
https://savannah.gnu.org/project/admin/editgroupinfo.php?group=parallel

== Update website ==

http://www.gnu.org/software/parallel/
http://www.gnu.org/software/parallel/man.html

pod2html src/parallel > ../parallel-web/parallel/man.html
pod2html src/sql > ../parallel-web/parallel/sql.html
cd ../parallel-web/parallel
cvs up
cvs ci

== Update Freshmeat ==

http://freshmeat.net/projects/parallel/releases/new

== Update Twitter ==

#GNU Parallel 20101113 released. See what is new in this release
http://nd.gd/2j Watch the intro video http://nd.gd/0s

https://savannah.gnu.org/news/?group=parallel

cat twitters | parallel -j1 echo @{} You have earlier shown interest in GNU Parallel. \
A new version is out: http://nd.gd/2j '|' ttytter

== Send announce ==

http://groups.google.com/group/comp.unix.shell/post
Newsgroups: comp.unix.shell,comp.unix.admin

<<<<<
from:tange@gnu.org
to:parallel@gnu.org, bug-parallel@gnu.org, info-gnu@gnu.org, bug-directory@gnu.org
cc:Peter Simons <simons@cryp.to>, Sandro Cazzaniga <kharec@mandriva.org>,
   Tim Cuthbertson <tim3d.junk@gmail.com>, Ludovic Courtès <ludo@gnu.org>,
   Markus Ammer <mkmm@gmx-topmail.de>, Pavel Nuzhdin <pnzhdin@gmail.com>,
   Phil Sung <psung@alum.mit.edu>, Michael Shigorin <mike@altlinux.org>,
   Andrew McFague <amcfague@wgen.net>, Steven M. Christensen <sunfreeware@gmail.com>,
   Chris Howey <howeyc@gmail.com>, Fethican Coşkuner <fethicanc@gmail.com>,
   Rogério Brito <rbrito@ime.usp.br>, Jonathan Palardy <jonathan.palardy@gmail.com>,
   Koen Vervloesem <koen@vervloesem.eu>, R. Tyler Croy <tyler@monkeypox.org>

Subject: GNU Parallel 20101113 released

GNU Parallel 20101113 has been released. It is available for
download at: http://ftp.gnu.org/gnu/parallel/

New in this release:

* Using -j myfile the number of jobs can be changed while GNU Parallel
  is running simply by changing the content of myfile.

* Implemented --profile to use different .parallel/config for
  different situations.

* Ugly newlines in $PARALLEL and .parallel/config are no longer
  needed.  Instead you have to use \ in front of special shell
  characters.

* --workdir puts the files transferred to remote machines in a
  specified directory.

* $PARALLEL_PID is set to the process id of GNU Parallel.

* $PARALLEL_SEQ is set to the sequence number of the job.

* -v now only shows the command to run. Use -v -v to show the
   ssh/rsync wrapping.

* Slow spawning error is now only a warning.

* If stdin is a tty and input is read from stdin you now get a
  warning.

* GNU sql: \n and \x0a in arguments is replaced with newline.

* Patch for Debian package and spelling mistakes. Thanks to Rogério
  Brito <rbrito at ime dot usp dot br>

* Mac OS X Homebrew package. Thanks to Jonathan Palardy <jonathan dot
  palardy at gmail dot com>

* FreeBSD port. Thanks to Chris Howey <howeyc at gmail dot com>

* Pardus package. Thanks to Fethican Coşkuner
  <fethicanc at gmail dot com>

* First review in Chinese. Thanks to 曾義峰:
  http://antbsd.twbbs.org/~ant/wordpress/?p=2876

* First review in print:
  http://www.linux-magazine.com/Issues/2010 Nov 2010

* First review in Spanish:
  http://www.muylinux.com/2010/10/18/gnu-parallel-computacion-paralela-a-golpe-de-comando

* First review in Dutch thanks to Koen Vervloesem <koen at vervloesem
  dot eu>:
  http://techworld.nl/technologie/33493/gebruik-al-je-processorkernen-met-gnu-parallel.html

* Blog review thanks to R. Tyler Croy <tyler at monkeypox dot org>:
  http://unethicalblogger.com/posts/2010/11/gnuparallel_changed_my_life

* 5000 views of the intro video:
  http://www.youtube.com/watch?v=OpaiGYxkSuQ

* As usual a bunch of bugfixes and more usage examples in the man
  page.

* GNU Parallel was presented at FSCONS 2010-11-07:
  http://www.fscons.org/fs/gnu-parallel Hopefully the
  video will be online soon.


= About GNU Parallel =

GNU Parallel is a shell tool for executing jobs in parallel using one
or more machines. A job is typically a single command or a small
script that has to be run for each of the lines in the input. The
typical input is a list of files, a list of hosts, a list of users, a
list of URLs, or a list of tables.

If you use xargs today you will find GNU Parallel very easy to use as
GNU Parallel is written to have the same options as xargs. If you
write loops in shell, you will find GNU Parallel may be able to
replace most of the loops and make them run faster by running several
jobs in parallel. If you use ppss or pexec you will find GNU Parallel
will often make the command easier to read.

GNU Parallel makes sure output from the commands is the same output as
you would get had you run the commands sequentially. This makes it
possible to use output from GNU Parallel as input for other programs.

You can find more about GNU Parallel at:
http://www.gnu.org/software/parallel/

Watch the intro video on http://www.youtube.com/watch?v=OpaiGYxkSuQ or
at http://tinyogg.com/watch/TORaR/ and http://tinyogg.com/watch/hfxKj/

>>>>>
