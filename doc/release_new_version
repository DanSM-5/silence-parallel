= Notes on how to release new version =

== Update version ==

=== configure.ac ===
configure.ac: AC_INIT([parallel], [20100422], [bug-parallel@gnu.org])

YYYYMMDD=`yyyymmdd`
perl -i -pe "s/20\d\d\d\d\d\d/$YYYYMMDD/" configure.ac

=== src/parallel ===

src/parallel: $Global::version = 20100422;

YYYYMMDD=`yyyymmdd`
perl -i -pe "/version/ and s/20\d\d\d\d\d\d/$YYYYMMDD/" src/parallel

=== Autoconf/automake ===

rm -fr autom4te.cache aclocal.m4 config.h config.h.in config.log Makefile.in missing install-sh
rm -rf src/Makefile.in
autoreconf --install -W gnu
./configure
make && sudo make install

== Unittest ==

cd unittest; make unittest

== Update NEWS ==

With the same things that goes in the announce mail

== Package ==

./configure
make dist
make dist-bzip2

== Test the package ==

cp parallel-$YYYYMMDD.tar.bz2 /tmp
cd /tmp
tar xjvf parallel-$YYYYMMDD.tar.bz2
cd parallel-$YYYYMMDD
./configure && make && sudo make install

== Upload ==

YYYYMMDD=`yyyymmdd`
cp doc/parallel.directive parallel-$YYYYMMDD.tar.bz2.directive
perl -i -pe "s/20\d\d\d\d\d\d/$YYYYMMDD/" parallel-*.tar.*directive
gpg --clearsign parallel-$YYYYMMDD.tar.bz2.directive

YYYYMMDD=`yyyymmdd`
gpg -b parallel-$YYYYMMDD.tar.bz2

YYYYMMDD=`yyyymmdd`
echo put parallel-$YYYYMMDD.tar.bz2{,.sig,*asc} | ncftp ftp://ftp-upload.gnu.org/incoming/ftp/

== Download and test ==

cd /tmp
wget http://ftp.gnu.org/gnu/parallel/parallel-$YYYYMMDD.tar.bz2
tar xjvf parallel-$YYYYMMDD.tar.bz2
cd parallel-$YYYYMMDD
make -j && sudo make -j install

== Update OpenSUSE build system ==

https://build.opensuse.org/package/show?package=parallel&project=home%3Atange

== Update Savannah ==

https://savannah.gnu.org/news/submit.php?group=parallel
https://savannah.gnu.org/news/approve.php?group=parallel

doc/pod2savannah_publicinfo src/parallel | klipper-stdin
https://savannah.gnu.org/project/admin/editgroupinfo.php?group=parallel

== Update website ==

http://www.gnu.org/software/parallel/
http://www.gnu.org/software/parallel/man.html

pod2html src/parallel > ../parallel-web/parallel/man.html
cd ../parallel-web/parallel
cvs ci

== Update Freshmeat ==

http://freshmeat.net/projects/parallel/releases/new

== Send announce ==

http://groups.google.com/group/comp.unix.shell/post
Newsgroups: comp.unix.shell,comp.unix.admin

<<<<<
from:tange@gnu.org
to:parallel@gnu.org, bug-parallel@gnu.org, info-gnu@gnu.org, bug-directory@gnu.org
cc:Peter Simons <simons@cryp.to>, Sandro Cazzaniga <kharec@mandriva.org>,
   Tim Cuthbertson <tim3d.junk@gmail.com>, Ludovic Court√®s <ludo@gnu.org>,
   Markus Ammer <mkmm@gmx-topmail.de>, Pavel Nuzhdin <pnzhdin@gmail.com>,
   Phil Sung <psung@alum.mit.edu>, Michael Shigorin <mike@altlinux.org>,
   Andrew McFague <amcfague@wgen.net>

Subject: GNU Parallel 2010XXXX released

GNU Parallel 2010XXXX has been released. It is available for
download at: http://ftp.gnu.org/gnu/parallel/

New in this release:

* sql - a small script to access sql bases from the command line which
  is a handy companion to parallel --colsep

* Using --shebang GNU Parallel can be used as the parser for a script.
  E.g: #!/usr/bin/parallel --shebang traceroute (followed by lines of
  hosts)

* First community generated bugfixes

* Alt Linux package of GNU Parallel. Thanks to Michael Shigorin <mike
  at altlinux dot org>

* Untested CentOS, Fedora, Mandriva, RedHat, and SUSE packages
  available through OpenSUSE build service:
  https://build.opensuse.org/package/show?package=parallel&project=home%3Atange

* Review of GNU Parallel. Thanks to Andrew McFague amcfague at wgen dot net
  http://www.andrew-mcfague.com/linux/utilities-linux/
  commands-every-serious-nix-user-should-know/#parallel

* First 1000 views of the intro video

= About GNU Parallel =

GNU Parallel is a shell tool for executing jobs in parallel using one
or more machines. A job is typically a single command or a small
script that has to be run for each of the lines in the input. The
typical input is a list of files, a list of hosts, a list of users, a
list of URLs, or a list of tables.

If you use xargs today you will find GNU Parallel very easy to use as
GNU Parallel is written to have the same options as xargs. If you
write loops in shell, you will find GNU Parallel may be able to
replace most of the loops and make them run faster by running several
jobs in parallel. If you use ppss or pexec you will find GNU Parallel
will often make the command easier to read.

GNU Parallel makes sure output from the commands is the same output as
you would get had you run the commands sequentially. This makes it
possible to use output from GNU Parallel as input for other programs.

You can find more about GNU Parallel at:
http://www.gnu.org/software/parallel/

Watch the intro video on http://www.youtube.com/watch?v=OpaiGYxkSuQ or
at http://tinyogg.com/watch/TORaR/ and http://tinyogg.com/watch/hfxKj/

>>>>>
